<nav th:fragment="sidebar" class="w-64 bg-white border-r min-h-screen flex flex-col transition-all duration-300" id="sidebar">
    <!-- Collapse Button -->
    <button id="sidebarToggle" class="absolute -right-3 top-5 bg-white border border-gray-200 rounded-full p-1.5 shadow-sm hover:bg-gray-50">
        <i data-lucide="chevrons-left" class="w-4 h-4 transition-transform duration-300"></i>
    </button>
    
    <!-- Header -->
    <div class="p-4 border-b" data-aos="fade-right" data-aos-delay="100">
        <div class="flex items-center space-x-2">
            <img src="/images/logo.svg" alt="Ilmpay Logo" class="h-8 [filter:brightness(0)_saturate(100%)_invert(31%)_sepia(93%)_saturate(1954%)_hue-rotate(229deg)_brightness(88%)_contrast(96%)]">
            <span class="sidebar-text text-xl font-semibold text-indigo-600">Ilmpay Admin</span>
        </div>
    </div>
    
    <!-- Navigation -->
    <div class="flex-1 overflow-y-auto">
        <div class="p-4 space-y-2">
            <!-- Dashboard -->
            <a href="/admin/dashboard" 
               data-aos="fade-right" 
               data-aos-delay="200"
               class="flex items-center space-x-3 p-3 rounded-lg transition-colors duration-200"
               th:with="currentUri=${currentPath}"
               th:classappend="${currentUri == '/admin/dashboard'} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-600 hover:bg-gray-100'">
                <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                <span>Dashboard</span>
            </a>

            <!-- Content Management Section -->
            <div class="space-y-1" data-aos="fade-right" data-aos-delay="300">
                <button onclick="toggleSubmenu('content-menu')" 
                        class="w-full flex items-center justify-between p-3 rounded-lg transition-colors duration-200"
                        th:with="currentUri=${currentPath}"
                        th:classappend="${#strings.startsWith(currentUri, '/admin/content')} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-600 hover:bg-gray-100'">
                    <div class="flex items-center space-x-3">
                        <i data-lucide="file-text" class="w-5 h-5"></i>
                        <span>Content</span>
                    </div>
                    <i data-lucide="chevron-right" id="content-menu-icon" 
                       class="w-4 h-4 transition-transform duration-200"
                       th:classappend="${#strings.startsWith(currentUri, '/admin/content')} ? 'rotate-90' : ''">
                    </i>
                </button>
                
                <div id="content-menu" 
                     class="ml-4 pl-4 border-l border-gray-200 space-y-1 transition-all duration-200"
                     th:with="currentUri=${currentPath}"
                     th:classappend="${!#strings.startsWith(currentUri, '/admin/content')} ? 'hidden' : ''">
                    <a href="/admin/content/support-logos"  
                       class="flex items-center space-x-3 p-2 rounded-lg text-sm transition-colors duration-200"
                       th:classappend="${currentUri == '/admin/content/support-logos'} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-600 hover:bg-gray-100'">
                        <i data-lucide="image" class="w-4 h-4"></i>
                        <span>Support Logos</span>
                    </a>
                    <a href="/admin/content/benefits"
                       class="flex items-center space-x-3 p-2 rounded-lg text-sm transition-colors duration-200"
                       th:classappend="${currentUri == '/admin/content/benefits'} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-600 hover:bg-gray-100'">
                        <i data-lucide="gift" class="w-4 h-4"></i>
                        <span>Benefits</span>
                    </a>
                    <a href="/admin/content/testimonials"
                       class="flex items-center space-x-3 p-2 rounded-lg text-sm transition-colors duration-200"
                       th:classappend="${currentUri == '/admin/content/testimonials'} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-600 hover:bg-gray-100'">
                        <i data-lucide="message-circle" class="w-4 h-4"></i>
                        <span>Testimonials</span>
                    </a>
                    <a href="/admin/content/faqs"
                       class="flex items-center space-x-3 p-2 rounded-lg text-sm transition-colors duration-200"
                       th:classappend="${currentUri == '/admin/content/faqs'} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-600 hover:bg-gray-100'">
                        <i data-lucide="help-circle" class="w-4 h-4"></i>
                        <span>FAQs</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="p-4 border-t">
        <div class="flex items-center space-x-3 text-gray-600">
            <i data-lucide="user" class="w-5 h-5"></i>
            <span>Admin User</span>
        </div>
    </div>
</nav>

<script>
function toggleSubmenu(menuId) {
    const menu = document.getElementById(menuId);
    const icon = document.getElementById(menuId + '-icon');
    menu.classList.toggle('hidden');
    icon.classList.toggle('rotate-90');
}

// Initialize Lucide icons
document.addEventListener('DOMContentLoaded', function() {
    lucide.createIcons();
});
</script> 